```javascript
var apiEndpointUrl = '<%= current_page.data.api_root_url %>/<%= locals.fetch(:api_endpoint, current_page.data.api_endpoint_placeholder) %>';

var requestHeaders =
  new Headers({
    <% unless locals.fetch(:without_revision, false) %>
    'Wanikani-Revision': '<%= current_page.data.api_revision %>',
    <% end %>
    Authorization: 'Bearer <%= locals.fetch(:api_token, current_page.data.api_token_placeholder) %>'
  });

var apiEndpoint =
  new Request(apiEndpointUrl, {
    method: 'GET',
    headers: requestHeaders
  });

fetch(apiEndpoint)
  .then(function(response) { return response.json(); })
  .then(function(responseBody) { console.log(responseBody); });
```
